{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/touat/Downloads/ProjetSOC/frontend/lib/auth.ts"],"sourcesContent":["// Authentication context for managing user roles\nexport type UserRole = \"restaurateur\" | \"agriculteur\"\n\nexport interface User {\n  id: string\n  email: string\n  name: string\n  phone: string\n  role: UserRole\n}\n\n// Demo users for testing\nexport const DEMO_USERS: Record<string, { password: string; user: User }> = {\n  \"restaurateur@demo.com\": {\n    password: \"demo123\",\n    user: {\n      id: \"1\",\n      email: \"restaurateur@demo.com\",\n      name: \"Jean Restaurateur\",\n      phone: \"+212611111111\",\n      role: \"restaurateur\",\n    },\n  },\n  \"agriculteur@demo.com\": {\n    password: \"demo123\",\n    user: {\n      id: \"2\",\n      email: \"agriculteur@demo.com\",\n      name: \"Ahmed Agriculteur\",\n      phone: \"+212622222222\",\n      role: \"agriculteur\",\n    },\n  },\n}\n\nexport function saveUser(user: User) {\n  sessionStorage.setItem(\"user\", JSON.stringify(user))\n}\n\nexport function getUser(): User | null {\n  if (typeof window === \"undefined\") return null\n  const user = sessionStorage.getItem(\"user\")\n  return user ? JSON.parse(user) : null\n}\n\nexport function clearUser() {\n  sessionStorage.removeItem(\"user\")\n}\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;;;;;;AAY1C,MAAM,aAA+D;IAC1E,yBAAyB;QACvB,UAAU;QACV,MAAM;YACJ,IAAI;YACJ,OAAO;YACP,MAAM;YACN,OAAO;YACP,MAAM;QACR;IACF;IACA,wBAAwB;QACtB,UAAU;QACV,MAAM;YACJ,IAAI;YACJ,OAAO;YACP,MAAM;YACN,OAAO;YACP,MAAM;QACR;IACF;AACF;AAEO,SAAS,SAAS,IAAU;IACjC,eAAe,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;AAChD;AAEO,SAAS;IACd,wCAAmC,OAAO;;;IAC1C,MAAM;AAER;AAEO,SAAS;IACd,eAAe,UAAU,CAAC;AAC5B"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/touat/Downloads/ProjetSOC/frontend/app/farmer/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { getUser } from \"@/lib/auth\"\nimport { LogOut, Menu, X, Package, Home, BarChart3 } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\nexport default function FarmerLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n    const currentUser = getUser()\n    if (!currentUser || currentUser.role !== \"agriculteur\") {\n      router.push(\"/login\")\n      return\n    }\n    setUser(currentUser)\n  }, [router])\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\")\n    router.push(\"/login\")\n  }\n\n  if (!mounted || !user) return null\n\n  return (\n    <div className=\"flex h-screen bg-gray-100\">\n      {/* Sidebar */}\n      <aside\n        className={`${\n          sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\n        } fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-green-600 to-green-700 shadow-xl transition duration-300 lg:translate-x-0 lg:static`}\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Logo/Header */}\n          <div className=\"px-6 py-6 border-b border-green-500\">\n            <Link href=\"/farmer\" className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-white rounded-lg flex items-center justify-center\">\n                <Package className=\"w-6 h-6 text-green-600\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-white\">FarmHub</h1>\n                <p className=\"text-xs text-green-100\">Agriculteur</p>\n              </div>\n            </Link>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 px-4 py-6 space-y-2 overflow-y-auto\">\n            <Link href=\"/farmer\" onClick={() => setSidebarOpen(false)}>\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 text-green-100 hover:bg-green-500/20 rounded-lg transition\">\n                <Home className=\"w-5 h-5\" />\n                <span>Tableau de bord</span>\n              </button>\n            </Link>\n\n            <Link href=\"/farmer/products\" onClick={() => setSidebarOpen(false)}>\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 text-green-100 hover:bg-green-500/20 rounded-lg transition\">\n                <Package className=\"w-5 h-5\" />\n                <span>Mes produits</span>\n              </button>\n            </Link>\n\n            <Link href=\"/farmer/products/new\" onClick={() => setSidebarOpen(false)}>\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 text-green-100 hover:bg-green-500/20 rounded-lg transition\">\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                </svg>\n                <span>Ajouter un produit</span>\n              </button>\n            </Link>\n\n            <div className=\"pt-4 border-t border-green-500\">\n              <p className=\"px-4 text-xs font-semibold text-green-200 uppercase\">Ressources</p>\n              <button className=\"w-full mt-2 flex items-center gap-3 px-4 py-3 text-green-100 hover:bg-green-500/20 rounded-lg transition\">\n                <BarChart3 className=\"w-5 h-5\" />\n                <span>Statistiques (bientôt)</span>\n              </button>\n            </div>\n          </nav>\n\n          {/* Profil et logout */}\n          <div className=\"px-4 py-4 border-t border-green-500 space-y-3\">\n            <div className=\"px-4 py-3 bg-green-500/20 rounded-lg\">\n              <p className=\"text-sm text-green-100\">Connecté en tant que</p>\n              <p className=\"font-medium text-white truncate\">{user.name || \"Agriculteur\"}</p>\n              <p className=\"text-xs text-green-200\">{user.email || \"agriculteur@farmhub.com\"}</p>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"w-full flex items-center justify-center gap-3 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition font-medium\"\n            >\n              <LogOut className=\"w-5 h-5\" />\n              <span>Déconnexion</span>\n            </button>\n          </div>\n        </div>\n      </aside>\n\n      {/* Overlay mobile */}\n      {sidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Top bar */}\n        <header className=\"bg-white shadow-sm border-b border-gray-200\">\n          <div className=\"flex items-center justify-between px-6 py-4\">\n            <button\n              onClick={() => setSidebarOpen(!sidebarOpen)}\n              className=\"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition\"\n            >\n              {sidebarOpen ? (\n                <X className=\"w-6 h-6 text-gray-600\" />\n              ) : (\n                <Menu className=\"w-6 h-6 text-gray-600\" />\n              )}\n            </button>\n\n            <div className=\"hidden lg:block\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">FarmHub</h2>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <div className=\"text-right hidden md:block\">\n                <p className=\"text-sm font-medium text-gray-900\">{user.name || \"Agriculteur\"}</p>\n                <p className=\"text-xs text-gray-500\">Producteur agricole</p>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Content */}\n        <main className=\"flex-1 overflow-auto\">\n          {children}\n        </main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}